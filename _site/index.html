
<!DOCTYPE html>
<html lang="en">
<head>
<!-- _includes/header.html start -->


<meta charset="utf-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">

<meta name="description" content="Visual editor for dataflow programming, powered by svg.js">
<meta name="keywords" content="dataflow,visual,svg,editor">
<meta name="author" content="">

<meta name="viewport" content="width=device-width,initial-scale=1">

<title>flow-view</title>

<link rel="stylesheet" href="//g14n.info/bower_components/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="//g14n.info/bower_components/bootstrap/dist/css/bootstrap-theme.min.css">

<script type="text/javascript" src="//g14n.info/bower_components/jquery/dist/jquery.min.js"></script>

<!-- _includes/header.html end -->

</head>
<body>
  <nav class="navbar navbar-inverse navbar-static-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="//g14n.info/flow-view">flow-view</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="https://github.com/fibo/flow-view">GitHub</a></li>
          <li><a href="https://www.npmjs.com/package/flow-view">npm</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container">

    <h1 id="flow-view">flow-view</h1>

<blockquote>
<p>Visual editor for dataflow programming, powered by <a href="http://svgjs.com/" title="SVG.js">svg.js</a></p>
</blockquote>

<p><a href="http://badge.fury.io/js/flow-view"><img src="https://badge.fury.io/js/flow-view.png" alt="NPM version"></a> <a href="https://travis-ci.org/fibo/flow-view.png?branch=master"><img src="https://travis-ci.org/fibo/flow-view.png?branch=master" alt="Build Status"></a> <a href="https://gemnasium.com/fibo/flow-view"><img src="https://gemnasium.com/fibo/flow-view.png" alt="Dependency Status"></a></p>

<h2 id="description">Description</h2>

<p><em>flow-view</em> is a reusable visual editor you can use to provide a GUI to your dataflow project. I am using it for <a href="http://g14n.info/dflow">dflow</a>, but, I would like it&rsquo;d be used by other node projects, like <a href="https://github.com/GraftJS/graft">graft</a>.</p>

<blockquote>
<p>Please, help me give Node a common visual interface. Use <em>flow-view</em>!</p>
</blockquote>

<p>Any feedback is welcome!</p>

<h2 id="installation">Installation</h2>

<p>With <a href="https://npmjs.org/">npm</a> do</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm install flow-view
</code></pre></div>
<p>With <a href="http://bower.io/">bower</a> do</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bower install flow-view
</code></pre></div>
<h2 id="synopsis">Synopsis</h2>

<p>Go to <a href="http://g14n.info/flow-view/examples/synopsis/">examples/synopsis/</a> to see results.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;drawing&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;path/to/flowView.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
  <span class="kd">var</span> <span class="nx">Canvas</span> <span class="o">=</span> <span class="nx">flowView</span><span class="p">.</span><span class="nx">Canvas</span><span class="p">,</span>
      <span class="nx">view</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">box</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">a</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">x</span><span class="o">:</span> <span class="mi">80</span><span class="p">,</span>
            <span class="nx">y</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="nx">w</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="nx">h</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">text</span><span class="o">:</span> <span class="s2">&quot;Drag me&quot;</span><span class="p">,</span>
            <span class="nx">outs</span><span class="o">:</span> <span class="p">[{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;out0&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span><span class="mi">1</span><span class="p">}]</span>
          <span class="p">},</span>
          <span class="nx">b</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">x</span><span class="o">:</span> <span class="mi">180</span><span class="p">,</span>
            <span class="nx">y</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span>
            <span class="nx">w</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="nx">h</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">text</span><span class="o">:</span> <span class="s2">&quot;Hello&quot;</span><span class="p">,</span>
            <span class="nx">ins</span><span class="o">:</span> <span class="p">[{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;in0&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span><span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;in1&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span><span class="mi">1</span><span class="p">}]</span>
          <span class="p">}</span>
       <span class="p">},</span>
       <span class="nx">link</span><span class="o">:</span> <span class="p">{</span>
         <span class="mi">1</span><span class="o">:</span> <span class="p">{</span>
           <span class="nx">from</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
           <span class="nx">to</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
         <span class="p">}</span>
       <span class="p">}</span>
     <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Canvas</span><span class="p">(</span><span class="s1">&#39;drawing&#39;</span><span class="p">,</span> <span class="nx">view</span><span class="p">)</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>
<h2 id="canvas">Canvas</h2>

<p>A <em>Canvas</em> need to know its <em>div</em> id which will be passed to <a href="http://svgjs.com/" title="SVG.js">svg.js</a>. In your HTML file, put a <em>div</em> like this</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;drawing&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div>
<p>In order to start with a not empty <em>Canvas</em>, create an optional <a href="#view">view object</a></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">var view = {
      box: {
        a: {
          x: 80,
          y: 100,
          w: 10,
          h: 2,
          text: &quot;Drag me&quot;,
          outs: [{name: &quot;out0&quot;, data:1}]
        },
        b: {
          x: 180,
          y: 100,
          w: 10,
          h: 2,
          text: &quot;Hello&quot;,
          ins: [{name: &quot;in0&quot;, data:2}, {name: &quot;in1&quot;, data:1}]
        }
     },
     link: {
        1: {
         from: [&#39;a&#39;, 0],
         to: [&#39;b&#39;, 1]
     }
   }
</code></pre></div>
<p>and pass it to the <em>Canvas</em> constructor</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">flowView</span><span class="p">.</span><span class="nx">Canvas</span><span class="p">(</span><span class="s1">&#39;drawing&#39;</span><span class="p">,</span> <span class="nx">view</span><span class="p">)</span>
</code></pre></div>
<h3 id="addbox()">addBox()</h3>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">canvas</span><span class="p">.</span><span class="nx">addBox</span><span class="p">()</span>
</code></pre></div>
<h3 id="addlink()">addLink()</h3>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">canvas</span><span class="p">.</span><span class="nx">addLink</span><span class="p">()</span>
</code></pre></div>
<h3 id="view">view</h3>

<p>The <em>view</em> object contains two objects:</p>

<ul>
<li>box</li>
<li>link</li>
</ul>

<h2 id="theme">Theme</h2>

<p>The <em>Theme</em> is a plain object which defaults to</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">theme</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">unitHeight</span><span class="o">:</span> <span class="mi">40</span><span class="p">,</span>
  <span class="nx">unitWidth</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">labelFont</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">family</span><span class="o">:</span> <span class="s1">&#39;Consolas&#39;</span><span class="p">,</span>
    <span class="nx">size</span><span class="o">:</span> <span class="mi">17</span><span class="p">,</span>
    <span class="nx">anchor</span><span class="o">:</span> <span class="s1">&#39;start&#39;</span>
  <span class="p">},</span>
  <span class="nx">fillLabel</span><span class="o">:</span> <span class="s1">&#39;#333&#39;</span><span class="p">,</span>
  <span class="nx">fillPin</span><span class="o">:</span> <span class="s1">&#39;#333&#39;</span><span class="p">,</span>
  <span class="nx">fillPinHighlighted</span><span class="o">:</span> <span class="s1">&#39;#d63518&#39;</span><span class="p">,</span>
  <span class="nx">fillRect</span><span class="o">:</span> <span class="s1">&#39;#ccc&#39;</span><span class="p">,</span>
  <span class="nx">halfPinSize</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nx">strokeDasharray</span><span class="o">:</span> <span class="s1">&#39;5, 5&#39;</span><span class="p">,</span>
  <span class="nx">strokeLine</span><span class="o">:</span> <span class="p">{</span> <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#333&#39;</span><span class="p">,</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">3</span> <span class="p">},</span>
  <span class="nx">strokeLineHighlighted</span><span class="o">:</span> <span class="p">{</span> <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#d63518&#39;</span><span class="p">,</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">3</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="box">Box</h2>

<p>The <em>Box</em> constructor should not be used directly, use <a href="#addbox">addBox()</a> instead.</p>

<h3 id="x">x</h3>

<p>The <em>x</em> coord of the top left vertex of the box.</p>

<h3 id="y">y</h3>

<p>The <em>y</em> coord of the top left vertex of the box.</p>

<h3 id="w">w</h3>

<p>The <em>width</em> of the rect containing the box. It is expressed in width units.</p>

<h3 id="h">h</h3>

<p>The <em>height</em> of the rect containing the box. It is expressed in height units.</p>

<h3 id="text">text</h3>

<p>The <em>text</em> label displayed in the box.</p>

<h3 id="ins">ins</h3>

<p>An optional array of <a href="#input">Input</a> objects.</p>

<h3 id="outs">outs</h3>

<p>An optional array of <a href="#output">Ouput</a> objects.</p>

<h2 id="link">Link</h2>

<p>The <em>Link</em> constructor should not be used directly, use <a href="#addlink">addLink()</a> instead.</p>

<h3 id="from">from</h3>

<p>An array with two entries:</p>

<ol>
<li>The key of the source box.</li>
<li>The position of the output.</li>
</ol>

<h3 id="to">to</h3>

<p>An array with two entries:</p>

<ol>
<li>The key of the target box.</li>
<li>The position of the input.</li>
</ol>

<h2 id="pin">Pin</h2>

<p>The <em>Pin</em> object is an abstract class, furthermore it is not coded.</p>

<p>It has the following attributes</p>

<h3 id="name">name</h3>

<p>It is a String with the name of the object.</p>

<h3 id="data">data</h3>

<p>Can have any type that fits in a JSON attribute.</p>

<h2 id="input">Input</h2>

<p>Is a <a href="#pin">Pin</a> Object. Attribute <a href="#name">name</a> defaults to <code>inP</code> where <code>P</code> is the <em>position</em> in the <a href="#ins">ins</a> array.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">ins: [{name: &quot;in0&quot;, data:2}, {name: &quot;in1&quot;, data:1}]
</code></pre></div>
<h2 id="output">Output</h2>

<p>Is a <a href="#pin">Pin</a> Object. Attribute <a href="#name">name</a> defaults to <code>outP</code> where <code>P</code> is the <em>position</em> in the <a href="#outs">outs</a> array.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">outs: [{name: &quot;out0&quot;, data:1}]
</code></pre></div>

  </div>

<!-- _includes/bootstrap/footer.html start -->

<script type="text/javascript" src="//g14n.info/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<!-- _includes/bootstrap/footer.html end -->



<!-- Google Analytics -->

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12635045-12']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


</body>
</html>
